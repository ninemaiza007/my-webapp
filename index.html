<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üïê Clock</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;}

body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
background:#ffffff;
transition:background .8s ease,color .6s ease;
overflow:hidden;
}

/* Overlay ‡πÅ‡∏™‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ */
body::before{
content:"";
position:absolute;
inset:0;
transition:.8s ease;
z-index:0;
pointer-events:none;
}

/* ‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô */
body.night{
background:#0f172a;
color:#ffffff;
}

/* ‡πÄ‡∏ä‡πâ‡∏≤ */
body.dawn{
background:linear-gradient(135deg,#fff7ed,#ffedd5);
}

/* ‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô */
body.day{
background:#ffffff;
}

/* ‡πÄ‡∏¢‡πá‡∏ô */
body.sunset{
background:linear-gradient(135deg,#ffe4e6,#fecdd3);
}

.glass{
position:relative;
z-index:5;
text-align:center;
padding:60px 80px;
border-radius:28px;
background:rgba(255,255,255,.7);
backdrop-filter:blur(20px);
box-shadow:0 25px 60px rgba(0,0,0,.08);
transition:.5s;
}

body.night .glass{
background:rgba(30,41,59,.6);
box-shadow:0 25px 60px rgba(0,0,0,.4);
}

/* ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ FIX ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö */
#big-clock{
font-family:'Inter',monospace;
font-variant-numeric:tabular-nums;
font-feature-settings:"tnum";
font-size:5rem;
font-weight:600;
letter-spacing:2px;
width:10ch;
text-align:center;
margin-bottom:15px;
}

#location{
display:flex;
justify-content:center;
align-items:center;
gap:10px;
margin-bottom:30px;
font-size:.95rem;
opacity:.8;
}

.flag{
width:30px;
height:20px;
border-radius:3px;
}

.buttons{
display:flex;
gap:20px;
justify-content:center;
flex-wrap:wrap;
}

.btn{
padding:12px 30px;
border-radius:50px;
text-decoration:none;
font-weight:500;
background:#000;
color:#fff;
transition:.3s;
}

.btn:hover{
transform:translateY(-3px);
opacity:.85;
}

body.night .btn{
background:#ffffff;
color:#000;
}

@media(max-width:600px){
#big-clock{font-size:3rem;}
.glass{padding:40px 25px;}
}
</style>
</head>
<body>

<div class="glass">
<div id="big-clock">00:00:00</div>
<div id="location">Detecting location...</div>
<div class="buttons">
<a href="first.html" class="btn">ENTRY</a>
<a href="ip-check.html" class="btn">IP Check GO GO!!</a>
</div>
</div>

<script>
let userTimeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;

async function detectIP(){
try{
const res=await fetch("https://ipapi.co/json/");
const data=await res.json();

if(data.timezone){userTimeZone=data.timezone;}

document.getElementById("location").innerHTML=`
<img class="flag" src="https://flagcdn.com/w40/${data.country_code.toLowerCase()}.png">
<span>${data.city}, ${data.country_name} ‚Ä¢ ${data.timezone}</span>
`;

}catch{
document.getElementById("location").textContent="Local Time";
}
}

function applySunTheme(hour){
document.body.classList.remove("night","dawn","day","sunset");

if(hour>=5 && hour<8){
document.body.classList.add("dawn");
}
else if(hour>=8 && hour<17){
document.body.classList.add("day");
}
else if(hour>=17 && hour<19){
document.body.classList.add("sunset");
}
else{
document.body.classList.add("night");
}
}

function updateClock(){
const now=new Date();
const formatter=new Intl.DateTimeFormat('en-GB',{
timeZone:userTimeZone,
hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});

const parts=formatter.formatToParts(now);

const hour=parseInt(parts.find(p=>p.type==="hour").value);
const minute=parseInt(parts.find(p=>p.type==="minute").value);
const second=parseInt(parts.find(p=>p.type==="second").value);

document.getElementById("big-clock").textContent=
`${hour.toString().padStart(2,'0')}:${minute.toString().padStart(2,'0')}:${second.toString().padStart(2,'0')}`;

applySunTheme(hour);
}

detectIP().then(()=>{
setInterval(updateClock,1000);
updateClock();
});
</script>

</body>
</html>
